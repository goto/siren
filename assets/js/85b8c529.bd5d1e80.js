"use strict";(self.webpackChunksiren=self.webpackChunksiren||[]).push([[999],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(r),m=a,f=d["".concat(c,".").concat(m)]||d[m]||p[m]||o;return r?n.createElement(f,i(i({ref:t},u),{},{components:r})):n.createElement(f,i({ref:t},u))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},2822:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return d}});var n=r(7462),a=r(3366),o=(r(7294),r(3905)),i=["components"],s={},c="Overview",l={unversionedId:"concepts/overview",id:"concepts/overview",isDocsHomePage:!1,title:"Overview",description:"The following contains all the details about architecture, database schema, code structure and other technical concepts",source:"@site/docs/concepts/overview.md",sourceDirName:"concepts",slug:"/concepts/overview",permalink:"/siren/docs/concepts/overview",editUrl:"https://github.com/odpf/siren/edit/master/docs/docs/concepts/overview.md",tags:[],version:"current",lastUpdatedBy:"Ravi Suhag",lastUpdatedAt:1639651497,formattedLastUpdatedAt:"12/16/2021",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Troubleshooting",permalink:"/siren/docs/guides/troubleshooting"},next:{title:"Architecture",permalink:"/siren/docs/concepts/architecture"}},u=[{value:"System Architecture",id:"system-architecture",children:[]},{value:"Schema Design",id:"schema-design",children:[]},{value:"Code Structure",id:"code-structure",children:[]}],p={toc:u};function d(e){var t=e.components,s=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"overview"},"Overview"),(0,o.kt)("p",null,"The following contains all the details about architecture, database schema, code structure and other technical concepts\nof Siren."),(0,o.kt)("p",null,"Siren depends on Cortex Ruler for actual rule creation. It depends on Cortex Alertmanager to setup its configurations\nfor proper alert routing and capturing triggered alert history. Siren stores templates, rules and triggered alerts\nhistory in PostgresDB."),(0,o.kt)("h3",{id:"system-architecture"},"System Architecture"),(0,o.kt)("p",null,"The overall system architecture looks like:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Siren Architecture",src:r(8792).Z})),(0,o.kt)("p",null,"Let's have a look at the major components:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"CLI:")," Siren CLI provides easy to use commands to perform various actions. Currently, the actions supported are,\nstarting Siren Web Server, creating/updating templates and rules via a specified YAML file and migrating database\nschema. Read more about usage ",(0,o.kt)("a",{parentName:"p",href:"/siren/docs/guides/overview"},"here"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Web Server:")," Siren web server talks to Cortex alertmanager, cortex ruler and postgres DB to configure rules using\nstored templates and configure alertmanager per tenant with the stored credentials per team.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Cortex Ruler:")," The configured rules are stored in Cortex Ruler. Siren Rules HTTP APIs call Cortex ruler to\ncreate/update/delete rule group in a particular namespace.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Cortex Alertmanager:")," The stored slack and pagerduty credentials per team are stored as alertmanager configs.\nWhenever there is an update in any team's slack or pagerduty credentials, a fresh copy of alertmanager config is\ngenerated from the stored credentials and synced with Cortex Alertmanager. This also involves setting up alert\nhistory webhook receiver which is used to capture triggered alert history."))),(0,o.kt)("h3",{id:"schema-design"},"Schema Design"),(0,o.kt)("p",null,"Siren uses PostgresDB to store rules, templates, triggered alerts history and alertmanager configuration. Read in\nfurther detail ",(0,o.kt)("a",{parentName:"p",href:"/siren/docs/concepts/schema"},"here")),(0,o.kt)("h3",{id:"code-structure"},"Code Structure"),(0,o.kt)("p",null,"Reference ",(0,o.kt)("a",{parentName:"p",href:"/siren/docs/concepts/code"},"this")," document to understand code structure in detail."))}d.isMDXComponent=!0},8792:function(e,t,r){t.Z=r.p+"assets/images/siren-ff8dcd5db93b256e2e45743f85659af0.jpg"}}]);