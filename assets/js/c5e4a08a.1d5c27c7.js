"use strict";(self.webpackChunksiren=self.webpackChunksiren||[]).push([[266],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return m}});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(t),m=i,g=d["".concat(l,".").concat(m)]||d[m]||p[m]||a;return t?r.createElement(g,o(o({ref:n},u),{},{components:t})):r.createElement(g,o({ref:n},u))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=d;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4967:function(e,n,t){t.r(n),t.d(n,{assets:function(){return l},contentTitle:function(){return o},default:function(){return p},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return c}});var r=t(3117),i=(t(7294),t(3905));const a={},o="Usage",s={unversionedId:"guides/overview",id:"guides/overview",title:"Usage",description:"The following topics will describe how to use Siren.",source:"@site/docs/guides/overview.md",sourceDirName:"guides",slug:"/guides/overview",permalink:"/siren/docs/guides/overview",draft:!1,editUrl:"https://github.com/odpf/siren/edit/master/docs/docs/guides/overview.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Schema Design",permalink:"/siren/docs/concepts/schema"},next:{title:"Provider and Namespace",permalink:"/siren/docs/guides/provider_and_namespace"}},l={},c=[{value:"CLI Interface",id:"cli-interface",level:2},{value:"Managing providers and multi-tenancy",id:"managing-providers-and-multi-tenancy",level:2},{value:"Managing Templates",id:"managing-templates",level:2},{value:"Managing Rules",id:"managing-rules",level:2},{value:"Managing bulk rules and templates",id:"managing-bulk-rules-and-templates",level:2},{value:"Notifications",id:"notifications",level:2},{value:"Receivers",id:"receivers",level:2},{value:"Subscriptions",id:"subscriptions",level:2},{value:"Alert History Subscription",id:"alert-history-subscription",level:2},{value:"Deployment",id:"deployment",level:2}],u={toc:c};function p(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"usage"},"Usage"),(0,i.kt)("p",null,"The following topics will describe how to use Siren."),(0,i.kt)("h2",{id:"cli-interface"},"CLI Interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"Siren provides alerting on metrics of your applications using Cortex metrics\nin a simple DIY configuration. With Siren, you can define templates(using go templates), and\ncreate/edit/enable/disable prometheus rules on demand.\n\nAvailable Commands:\n  alert          Manage alerts\n  completion     Generate shell completion scripts\n  config         Manage siren CLI configuration\n  help           Help about any command\n  job            Manage siren jobs\n  namespace      Manage namespaces\n  provider       Manage providers\n  receiver       Manage receivers\n  rule           Manage rules\n  server         Run siren server\n  template       Manage templates\n  worker         Start or manage Siren's workers\n")),(0,i.kt)("h2",{id:"managing-providers-and-multi-tenancy"},"Managing providers and multi-tenancy"),(0,i.kt)("p",null,"Siren can be used to define alerting rules inside monitoring ",(0,i.kt)("inlineCode",{parentName:"p"},"providers"),". List of supported\nproviders:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"http://cortexmetrics.io"},"CortexMetrics"),".")),(0,i.kt)("p",null,"Support for other providers is on the roadmap, feel free to contribute. Siren also respects the multi-tenancy provided by various monitoring providers using ",(0,i.kt)("inlineCode",{parentName:"p"},"namespaces"),". A ",(0,i.kt)("inlineCode",{parentName:"p"},"namespace")," represents a tenant inside your provider. Learn in more detail ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/provider_and_namespace"},"here"),"."),(0,i.kt)("h2",{id:"managing-templates"},"Managing Templates"),(0,i.kt)("p",null,"Siren templates are abstraction to make data definition reusable (e.g. Prometheus rules to reuse same rule body to create multiple rules). Template could be used to define alerting rule body with go templates. Learn in more detail ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/template"},"here"),"."),(0,i.kt)("h2",{id:"managing-rules"},"Managing Rules"),(0,i.kt)("p",null,"Siren rules are defined using a template by providing value for the variables defined inside that template. Learn in more details ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/rule"},"here")),(0,i.kt)("h2",{id:"managing-bulk-rules-and-templates"},"Managing bulk rules and templates"),(0,i.kt)("p",null,"For org wide use cases, where teams need to manage multiple templates and rules Siren CLI can be highly useful. Think GitOps but for alerting. Learn in More detail ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/rule#bulk-rule-management"},"here")),(0,i.kt)("h2",{id:"notifications"},"Notifications"),(0,i.kt)("p",null,"Siren capables to send notifications which could route a notification into a specific channel defined by a ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/receiver"},"receiver"),". Siren uses key-value label matching for routing. There are two kind of notification route method, ",(0,i.kt)("inlineCode",{parentName:"p"},"direct notification to receiver")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"subscription-based notification"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Direct Notification to Receiver:")," Siren provides a way to the user to send direct notification to a supported receiver by calling an API ",(0,i.kt)("inlineCode",{parentName:"p"},"/receivers/{receiver_id}/notify")," with a specific payload message.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Subscription-based Notification:")," The subscription-based notification is currently only works for triggered alerts. For each alerts coming to Siren's webhook, a notification will be generated and routed to specific ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/receiver"},"receivers")," based on the ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/subscription"},"subscriptions"),"."))),(0,i.kt)("h2",{id:"receivers"},"Receivers"),(0,i.kt)("p",null,"Receivers represent a notification medium e.g. Slack, PagerDuty, HTTP, which can be used to define routing configuration in Siren to control the behaviour of how the notifications are notified. You can use receivers to send notifications on demand as well as on certain matching conditions. Learn in more detail ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/receiver"},"here"),"."),(0,i.kt)("h2",{id:"subscriptions"},"Subscriptions"),(0,i.kt)("p",null,"Siren can be used to route your notifications (non-alerts or alerts notification) to proper channels (receivers) based on the labels match conditions. You define your own set of label matchers and subscribe to alerts matching these labels in the notification mediums of your choice. Learn in more detail ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/subscription"},"here"),"."),(0,i.kt)("h2",{id:"alert-history-subscription"},"Alert History Subscription"),(0,i.kt)("p",null,"Siren expect ",(0,i.kt)("inlineCode",{parentName:"p"},"provider")," to call Siren back when an alert is triggered, allowing storage of triggered alerts and sending notification via Siren. Storing triggered alerts is beneficial to be used for auditing and analytics purposes. Alert History is simply a ",(0,i.kt)("inlineCode",{parentName:"p"},"subscription")," defined using an ",(0,i.kt)("inlineCode",{parentName:"p"},"HTTP receiver")," on all alerts. Learn in more detail ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/alert_history"},"here"),"."),(0,i.kt)("h2",{id:"deployment"},"Deployment"),(0,i.kt)("p",null,"Refer ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/deployment"},"here")," to learn how to deploy Siren in production."))}p.isMDXComponent=!0}}]);