(self.webpackChunksiren=self.webpackChunksiren||[]).push([[462],{1410:(e,t,r)=>{const a=r(7694),i=r(3618);e.exports={title:"Siren",tagline:"Universal data observability toolkit",url:"https://goto.github.io",baseUrl:"/siren/",onBrokenLinks:"throw",onBrokenMarkdownLinks:"warn",favicon:"img/favicon.ico",organizationName:"goto",projectName:"siren",customFields:{apiVersion:"v1beta1",defaultHost:"http://localhost:8080"},presets:[["@docusaurus/preset-classic",{docs:{sidebarPath:6679,editUrl:"https://github.com/goto/siren/edit/master/docs/",sidebarCollapsed:!0,breadcrumbs:!1},blog:!1,theme:{customCss:[5308,2295]},gtag:{trackingID:"G-EPXDLH6V72"}}]],themeConfig:{colorMode:{defaultMode:"light",respectPrefersColorScheme:!0},navbar:{title:"Siren",logo:{src:"img/logo.svg"},hideOnScroll:!0,items:[{type:"doc",docId:"introduction",position:"right",label:"Docs"},{to:"docs/support",label:"Support",position:"right"},{href:"https://bit.ly/2RzPbtn",position:"right",className:"header-slack-link"},{href:"https://github.com/goto/siren",className:"navbar-item-github",position:"right"}]},footer:{style:"light",links:[]},prism:{theme:a,darkTheme:i},announcementBar:{id:"star-repo",content:'\u2b50\ufe0f If you like Siren, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/goto/siren">GitHub</a>! \u2b50',backgroundColor:"#222",textColor:"#eee",isCloseable:!0}}}},5162:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(7294),i=r(4334);const n="tabItem_Ymn6";function o(e){let{children:t,hidden:r,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(n,o),hidden:r},t)}},5488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var a=r(3117),i=r(7294),n=r(4334),o=r(2389),s=r(7392),l=r(7094),c=r(2466);const u="tabList__CuJ",d="tabItem_LNqP";function p(e){var t;const{lazy:r,block:o,defaultValue:p,values:m,groupId:g,className:v}=e,b=i.Children.map(e.children,(e=>{if((0,i.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=m??b.map((e=>{let{props:{value:t,label:r,attributes:a}}=e;return{value:t,label:r,attributes:a}})),f=(0,s.l)(h,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===p?p:p??(null==(t=b.find((e=>e.props.default)))?void 0:t.props.value)??b[0].props.value;if(null!==y&&!h.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:T}=(0,l.U)(),[w,N]=(0,i.useState)(y),I=[],{blockElementScrollPositionUntilNextRender:x}=(0,c.o5)();if(null!=g){const e=k[g];null!=e&&e!==w&&h.some((t=>t.value===e))&&N(e)}const C=e=>{const t=e.currentTarget,r=I.indexOf(t),a=h[r].value;a!==w&&(x(t),N(a),null!=g&&T(g,String(a)))},Z=e=>{var t;let r=null;switch(e.key){case"Enter":C(e);break;case"ArrowRight":{const t=I.indexOf(e.currentTarget)+1;r=I[t]??I[0];break}case"ArrowLeft":{const t=I.indexOf(e.currentTarget)-1;r=I[t]??I[I.length-1];break}}null==(t=r)||t.focus()};return i.createElement("div",{className:(0,n.Z)("tabs-container",u)},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.Z)("tabs",{"tabs--block":o},v)},h.map((e=>{let{value:t,label:r,attributes:o}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>I.push(e),onKeyDown:Z,onClick:C},o,{className:(0,n.Z)("tabs__item",d,null==o?void 0:o.className,{"tabs__item--active":w===t})}),r??t)}))),r?(0,i.cloneElement)(b.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):i.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,o.Z)();return i.createElement(p,(0,a.Z)({key:String(t)},e))}},6679:e=>{e.exports={docsSidebar:["introduction","use_cases","installation",{type:"category",label:"Tour",items:["tour/introduction","tour/setup_server","tour/1sending_notifications_overview","tour/2alerting_rules_subscriptions_overview"]},{type:"category",label:"Concepts",items:["concepts/overview","concepts/plugin","concepts/notification","concepts/glossary"]},{type:"category",label:"Guides",items:["guides/overview","guides/deployment","guides/provider_and_namespace","guides/receiver","guides/subscription","guides/rule","guides/template","guides/alert_history","guides/notification","guides/workers","guides/job"]},{type:"category",label:"Providers",items:["providers/cortexmetrics"]},{type:"category",label:"Receivers",items:["receivers/slack","receivers/pagerduty","receivers/http","receivers/file"]},{type:"category",label:"Reference",items:["reference/api","reference/server_configuration","reference/client_configuration","reference/cli"]},{type:"category",label:"Extend",items:["extend/adding_new_provider","extend/adding_new_receiver"]},{type:"category",label:"Contribute",items:["contribute/contribution","contribute/release"]}]}},8814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{apiVersion:()=>v,assets:()=>m,contentTitle:()=>d,default:()=>f,defaultHost:()=>b,frontMatter:()=>u,metadata:()=>p,toc:()=>g});var a=r(3117),i=(r(7294),r(3905)),n=r(5488),o=r(5162),s=r(6066),l=r(1410),c=r.n(l);const u={},d="Receiver",p={unversionedId:"guides/receiver",id:"guides/receiver",title:"Receiver",description:"You can use receivers to send notifications on demand as well as on certain matching conditions (API for this is in the roadmap). Subscriptions use receivers to define routing configuration in Siren. With Siren subscriptions, incoming alerts via webhook will be routed to the pre-registered receivers by matching the subscriptions label. More info about notification concept is here. The how-to sending notification can be found here.",source:"@site/docs/guides/receiver.md",sourceDirName:"guides",slug:"/guides/receiver",permalink:"/siren/docs/guides/receiver",draft:!1,editUrl:"https://github.com/goto/siren/edit/master/docs/docs/guides/receiver.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Provider and Namespace",permalink:"/siren/docs/guides/provider_and_namespace"},next:{title:"Subscription",permalink:"/siren/docs/guides/subscription"}},m={},g=[{value:"Create a Receiver",id:"create-a-receiver",level:3},{value:"Update a Receiver",id:"update-a-receiver",level:3},{value:"Getting a receiver",id:"getting-a-receiver",level:3},{value:"Getting all receivers",id:"getting-all-receivers",level:3},{value:"Deleting a receiver",id:"deleting-a-receiver",level:3},{value:"CLI Interface",id:"cli-interface",level:2}],v=c().customFields.apiVersion,b=c().customFields.defaultHost,h={toc:g,apiVersion:v};function f(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"receiver"},"Receiver"),(0,i.kt)("p",null,"You can use receivers to send notifications on demand as well as on certain matching conditions (API for this is in the roadmap). Subscriptions use receivers to define routing configuration in Siren. With Siren subscriptions, incoming alerts via webhook will be routed to the pre-registered receivers by matching the subscriptions label. More info about notification concept is ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/concepts/notification"},"here"),". The how-to sending notification can be found ",(0,i.kt)("a",{parentName:"p",href:"/siren/docs/guides/notification"},"here"),"."),(0,i.kt)("h3",{id:"create-a-receiver"},"Create a Receiver"),(0,i.kt)("p",null,"Each receiver type might require different kind of configurations. A ",(0,i.kt)("inlineCode",{parentName:"p"},"configurations")," field is a dynamic field that has to be filled depend on the receiver type. Below is the example to add a ",(0,i.kt)("a",{parentName:"p",href:"#pagerduty"},"PagerDuty")," receiver. A ",(0,i.kt)("inlineCode",{parentName:"p"},"labels")," field is a KV-string value to label each receiver."),(0,i.kt)(n.Z,{groupId:"api",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ siren receiver create --file receiver.yaml\n"))),(0,i.kt)(o.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(s.Z,{className:"language-bash",mdxType:"CodeBlock"},"$ curl --request POST\n  --url ",b,"/",v,'/receivers\n  --header \'content-type: application/json\'\n  --data-raw \'{\n    "name": "doc-pagerduty-receiver",\n    "type": "pagerduty",\n    "labels": {\n        "team": "siren-devs"\n    },\n    "configurations": {\n        "service_key": "eq23r23rfewf3qwf3wf3w2f23wf32qwfw3fw3"\n    }\n}\''))),(0,i.kt)("h3",{id:"update-a-receiver"},"Update a Receiver"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note:")," While updating a receiver, you will have to make sure all subscriptions that are using this receivers get refreshed(updated), since subscriptions use receivers to create routing configuration dynamically. Receiver type is immutable."),(0,i.kt)(n.Z,{groupId:"api",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ siren receiver edit --id 61 --file receiver.yaml\n"))),(0,i.kt)(o.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(s.Z,{className:"language-bash",mdxType:"CodeBlock"},"$ curl --request PUT\n  --url ",b,"/",v,'/receivers/61\n  --header \'content-type: application/json\'\n  --data-raw \'{\n    "name": "doc-http-receiver",\n    "type": "http",\n    "labels": {\n        "team": "siren-devs"\n    },\n    "configurations": {\n        "url": "http://localhost:4001"\n    }\n}\''))),(0,i.kt)("h3",{id:"getting-a-receiver"},"Getting a receiver"),(0,i.kt)(n.Z,{groupId:"api",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ siren receiver view 61\n"))),(0,i.kt)(o.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(s.Z,{className:"language-bash",mdxType:"CodeBlock"},"$ curl --request GET --url ",b,"/",v,"/receivers/61"))),(0,i.kt)("h3",{id:"getting-all-receivers"},"Getting all receivers"),(0,i.kt)(n.Z,{groupId:"api",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ siren receiver list\n"))),(0,i.kt)(o.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(s.Z,{className:"language-bash",mdxType:"CodeBlock"},"$ curl --request GET --url ",b,"/",v,"/receivers"))),(0,i.kt)("h3",{id:"deleting-a-receiver"},"Deleting a receiver"),(0,i.kt)(n.Z,{groupId:"api",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ siren receiver delete 61\n"))),(0,i.kt)(o.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(s.Z,{className:"language-bash",mdxType:"CodeBlock"},"$ curl --request DELETE --url ",b,"/",v,"/receivers/61"))),(0,i.kt)("h2",{id:"cli-interface"},"CLI Interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'Receivers are the medium to send notification for which we intend to mange configuration.\n\n\nUsage\n  siren receiver [flags]\n\nCore commands\n  create         Create a new receiver\n  delete         Delete a receiver details\n  edit           Edit a receiver\n  list           List receivers\n  send           Send a receiver notification\n  view           View a receiver details\n\nFlags\n  -h, --host string   Siren API service to connect to\nUse "siren receiver [command] --help" for more information about a command.\n')))}f.isMDXComponent=!0},3618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});const a={plain:{color:"#F8F8F2",backgroundColor:"#282A36"},styles:[{types:["prolog","constant","builtin"],style:{color:"rgb(189, 147, 249)"}},{types:["inserted","function"],style:{color:"rgb(80, 250, 123)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["changed"],style:{color:"rgb(255, 184, 108)"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["string","char","tag","selector"],style:{color:"rgb(255, 121, 198)"}},{types:["keyword","variable"],style:{color:"rgb(189, 147, 249)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)"}},{types:["attr-name"],style:{color:"rgb(241, 250, 140)"}}]}},7694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});const a={plain:{color:"#393A34",backgroundColor:"#f6f8fa"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#999988",fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}},{types:["string","attr-value"],style:{color:"#e3116c"}},{types:["punctuation","operator"],style:{color:"#393A34"}},{types:["entity","url","symbol","number","boolean","variable","constant","property","regex","inserted"],style:{color:"#36acaa"}},{types:["atrule","keyword","attr-name","selector"],style:{color:"#00a4db"}},{types:["function","deleted","tag"],style:{color:"#d73a49"}},{types:["function-variable"],style:{color:"#6f42c1"}},{types:["tag","selector","keyword"],style:{color:"#00009f"}}]}}}]);