"use strict";(self.webpackChunksiren=self.webpackChunksiren||[]).push([[575],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),l=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=l(e.components);return i.createElement(s.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),d=o,m=p["".concat(s,".").concat(d)]||p[d]||f[d]||r;return n?i.createElement(m,a(a({ref:t},u),{},{components:n})):i.createElement(m,a({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var l=2;l<r;l++)a[l]=n[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9774:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return a},default:function(){return f},frontMatter:function(){return r},metadata:function(){return c},toc:function(){return l}});var i=n(3117),o=(n(7294),n(3905));const r={},a="Notification",c={unversionedId:"concepts/notification",id:"concepts/notification",title:"Notification",description:"Notification is one of main features in Siren. Siren capables to send notification to various receivers (e.g. Slack, PagerDuty). Notification in Siren could be sent directly to a receiver or user could subscribe notifications by providing key-value label matchers. For the latter, Siren routes notification to specific receivers by matching notification key-value labels with the provided label matchers.",source:"@site/docs/concepts/notification.md",sourceDirName:"concepts",slug:"/concepts/notification",permalink:"/siren/docs/concepts/notification",draft:!1,editUrl:"https://github.com/odpf/siren/edit/master/docs/docs/concepts/notification.md",tags:[],version:"current",frontMatter:{}},s={},l=[{value:"Notification Message Payload",id:"notification-message-payload",level:2},{value:"Templating Notification Message Payload",id:"templating-notification-message-payload",level:2},{value:"Queue",id:"queue",level:2},{value:"In-memory Queue",id:"in-memory-queue",level:3}],u={toc:l};function f(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,i.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"notification"},"Notification"),(0,o.kt)("p",null,"Notification is one of main features in Siren. Siren capables to send notification to various receivers (e.g. Slack, PagerDuty). Notification in Siren could be sent directly to a receiver or user could subscribe notifications by providing key-value label matchers. For the latter, Siren routes notification to specific receivers by matching notification key-value labels with the provided label matchers."),(0,o.kt)("p",null,"Below is how the notification is implemented in Siren"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Notification in Siren",src:n(6704).Z,width:"2337",height:"324"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Notification Source")," is a point where a notification is generated. In Siren, there are two points of notification source: ",(0,o.kt)("inlineCode",{parentName:"p"},"/receivers/{id}/notify")," API and alerts hook API. The first one will generate and publish notification when the API is invoked with some message in its payload and the latter one will always generate and publish notification everytime the hook API is called by the provider."),(0,o.kt)("h2",{id:"notification-message-payload"},"Notification Message Payload"),(0,o.kt)("p",null,"There is currently no abstraction on notification payload so user needs to pass notification message payload in the same format as what receiver (notification vendor) expected. See ",(0,o.kt)("a",{parentName:"p",href:"/siren/docs/reference/receiver"},"reference")," on how the format for each receiver is expected and how to send notification."),(0,o.kt)("h2",{id:"templating-notification-message-payload"},"Templating Notification Message Payload"),(0,o.kt)("p",null,"Message payload in notification could also be reused by defining template and passing some variables needed. See ",(0,o.kt)("a",{parentName:"p",href:"/siren/docs/guides/template"},"template")," for further details on how to use the template feature."),(0,o.kt)("h2",{id:"queue"},"Queue"),(0,o.kt)("p",null,"Queue is used as a buffer to avoid pressure when notifications are being sent. Siren implements Queue as a plugin. Currently there are two kind of queue plugin supported: in-memory (not for production usage) and postgres. User could choose the which queue to use by mentioning it in the ",(0,o.kt)("a",{parentName:"p",href:"/siren/docs/reference/server_configuration"},"config"),"."),(0,o.kt)("h3",{id:"in-memory-queue"},"In-memory Queue"),(0,o.kt)("p",null,"In-memory queue simulates a queue with Go channel. The usage is intended to be used in development only."))}f.isMDXComponent=!0},6704:function(e,t,n){t.Z=n.p+"assets/images/siren_notification-1a3e9ba1f0e300d62328dc681a9b77bf.svg"}}]);